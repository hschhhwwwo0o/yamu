<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YAMU TEST</title>
    <script defer type="module">
      import { MockUpGenerator } from "../mock-up-generator/dist/index.js";
      import { MockUpHTMLRenderer } from "../mock-up-html-renderer/dist/index.js";

      const mockUpGenerator = new MockUpGenerator();
      const mockUpHTMLRenderer = new MockUpHTMLRenderer("mockup");

      function selectDeviceHandler(deviceName = "iPhone 13") {
        mockUpGenerator.selectDevice(deviceName);

        if (deviceName === "iPhone 14 Pro") {
          mockUpGenerator.mockUp.device.changeSettings({
            isSystemBar: true,
          });
        }

        mockUpHTMLRenderer.render({
          frameWidth: mockUpGenerator.mockUp.device.width,
          frameHeight: mockUpGenerator.mockUp.device.height,
          frameImage: mockUpGenerator.mockUp.device.frameImage,
          insertedImage: "",
          paddingsInPercents:
            mockUpGenerator.mockUp.device.deviceLibraryItem.paddingsInPercents,
        });
      }

      selectDeviceHandler();

      document
        .querySelector("#select-device")
        .addEventListener(
          "change",
          function onSelectHandler(changedSelectDOMElement) {
            selectDeviceHandler(changedSelectDOMElement.target.value);
          },
        );
    </script>
  </head>
  <body>
    <div id="mockup" style="max-width: min-content"></div>
    <select name="select-device" id="select-device">
      <option value="iPhone 13">iPhone 13</option>
      <option value="iPhone 14 Pro">iPhone 14 Pro</option>
      <option value="iWatch SE">iWatch SE</option>
    </select>
  </body>
</html>
